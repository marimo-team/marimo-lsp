{
  "name": "vscode-marimo",
  "displayName": "marimo",
  "description": "A marimo notebook extension for VS Code.",
  "version": "0.7.7",
  "icon": "images/icon.png",
  "engines": {
    "vscode": "^1.86.0"
  },
  "extensionDependencies": [
    "ms-python.python"
  ],
  "publisher": "marimo-team",
  "repository": "https://github.com/marimo-team/marimo-lsp",
  "categories": [
    "Notebooks",
    "Data Science"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./dist/extension.js",
  "contributes": {
    "configuration": {
      "title": "Marimo",
      "properties": {
        "marimo.lsp.path": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "default": [],
          "markdownDescription": "Path to a custom `marimo-lsp` executable, e.g., `[\"/path/to/marimo-lsp\"]`. Leave empty to use the bundled version via uvx.",
          "scope": "resource"
        },
        "marimo.disableUvIntegration": {
          "type": "boolean",
          "default": false,
          "markdownDescription": "Disable uv integration features such as automatic package installation prompts.",
          "scope": "resource"
        },
        "marimo.telemetry": {
          "type": "boolean",
          "default": true,
          "description": "Anonymous usage data. This helps us prioritize features for the marimo VSCode extension."
        }
      }
    },
    "debuggers": [
      {
        "type": "marimo",
        "label": "Marimo Debugger",
        "languages": [
          "python"
        ],
        "configurationAttributes": {
          "launch": {
            "properties": {
              "notebookUri": {
                "type": "string",
                "description": "URI of the notebook to debug"
              }
            }
          }
        },
        "initialConfigurations": [
          {
            "type": "marimo",
            "request": "launch",
            "name": "Debug Marimo Notebook"
          }
        ]
      }
    ],
    "breakpoints": [
      {
        "language": "python"
      }
    ],
    "notebooks": [
      {
        "type": "marimo-notebook",
        "displayName": "marimo Notebook",
        "priority": "option",
        "selector": [
          {
            "filenamePattern": "*.py"
          }
        ]
      }
    ],
    "notebookRenderer": [
      {
        "id": "marimo-renderer",
        "displayName": "Marimo Output Renderer",
        "entrypoint": "./dist/renderer.mjs",
        "mimeTypes": [
          "application/vnd.marimo.ui+json"
        ],
        "requiresMessaging": "always"
      }
    ],
    "commands": [
      {
        "command": "marimo.showMarimoMenu",
        "title": "Show marimo menu",
        "category": "marimo"
      },
      {
        "command": "marimo.newMarimoNotebook",
        "title": "New marimo notebook",
        "shortTitle": "Marimo notebook",
        "category": "Create"
      },
      {
        "command": "marimo.createSetupCell",
        "title": "Create setup cell",
        "category": "marimo",
        "enablement": "notebookType == 'marimo-notebook'"
      },
      {
        "command": "marimo.publishMarimoNotebookGist",
        "title": "Publish notebook as Gist",
        "shortTitle": "Publish Gist",
        "category": "marimo",
        "enablement": "notebookType == 'marimo-notebook'"
      },
      {
        "command": "marimo.publishMarimoNotebook",
        "title": "Publish notebook as ...",
        "shortTitle": "Publish notebook",
        "category": "marimo",
        "enablement": "notebookType == 'marimo-notebook'"
      },
      {
        "command": "marimo.clearRecentNotebooks",
        "title": "Clear recent notebooks",
        "category": "marimo",
        "icon": "$(clear-all)"
      },
      {
        "command": "marimo.refreshPackages",
        "title": "Refresh packages",
        "category": "marimo",
        "icon": "$(refresh)"
      },
      {
        "command": "marimo.runStale",
        "title": "Run stale cells",
        "shortTitle": "Run stale",
        "category": "marimo",
        "icon": "$(play)",
        "enablement": "notebookType == 'marimo-notebook'"
      },
      {
        "command": "marimo.toggleOnCellChangeAutoRun",
        "title": "Toggle on-cell-change mode",
        "shortTitle": "On cell change: Auto-Run",
        "category": "marimo",
        "icon": "$(zap)",
        "enablement": "notebookType == 'marimo-notebook'"
      },
      {
        "command": "marimo.toggleOnCellChangeLazy",
        "title": "Toggle on-cell-change mode",
        "shortTitle": "On cell change: Lazy",
        "category": "marimo",
        "icon": "$(symbol-interface)",
        "enablement": "notebookType == 'marimo-notebook'"
      },
      {
        "command": "marimo.restartKernel",
        "title": "Restart notebook kernel",
        "shortTitle": "Restart Kernel",
        "category": "marimo",
        "enablement": "notebookType == 'marimo-notebook'"
      },
      {
        "command": "marimo.openAsMarimoNotebook",
        "title": "Open as marimo notebook",
        "category": "marimo",
        "icon": "images/small-icon.png"
      },
      {
        "command": "marimo.restartLsp",
        "title": "Restart marimo language server (marimo-lsp)",
        "shortTitle": "Restart marimo-lsp"
      },
      {
        "command": "marimo.showDiagnostics",
        "title": "Show marimo diagnostics",
        "category": "marimo"
      },
      {
        "command": "marimo.reportIssue",
        "title": "Report an issue or suggest a feature",
        "category": "marimo"
      },
      {
        "command": "marimo.exportStaticHTML",
        "title": "Export static HTML",
        "shortTitle": "Export static HTML",
        "category": "marimo",
        "enablement": "notebookType == 'marimo-notebook'"
      }
    ],
    "viewsContainers": {
      "panel": [
        {
          "id": "marimo-explorer",
          "title": "marimo",
          "icon": "images/small-icon.png"
        }
      ]
    },
    "views": {
      "marimo-explorer": [
        {
          "id": "marimo-explorer-recents",
          "name": "Recent Notebooks"
        },
        {
          "id": "marimo-explorer-variables",
          "name": "Variables"
        },
        {
          "id": "marimo-explorer-datasources",
          "name": "Datasources"
        },
        {
          "id": "marimo-explorer-packages",
          "name": "Packages"
        }
      ]
    },
    "menus": {
      "file/newFile": [
        {
          "command": "marimo.newMarimoNotebook",
          "group": "notebook"
        }
      ],
      "view/title": [
        {
          "command": "marimo.clearRecentNotebooks",
          "when": "view == marimo-explorer-recents",
          "group": "navigation"
        },
        {
          "command": "marimo.refreshPackages",
          "when": "view == marimo-explorer-packages",
          "group": "navigation"
        }
      ],
      "notebook/toolbar": [
        {
          "command": "marimo.runStale",
          "when": "notebookType == 'marimo-notebook' && marimo.notebook.hasStaleCells",
          "group": "navigation@1"
        },
        {
          "command": "marimo.restartKernel",
          "when": "notebookType == 'marimo-notebook'",
          "group": "navigation@2"
        },
        {
          "command": "marimo.toggleOnCellChangeAutoRun",
          "when": "notebookType == 'marimo-notebook' && marimo.config.runtime.on_cell_change != 'lazy'",
          "group": "navigation@3"
        },
        {
          "command": "marimo.toggleOnCellChangeLazy",
          "when": "notebookType == 'marimo-notebook' && marimo.config.runtime.on_cell_change == 'lazy'",
          "group": "navigation@3"
        }
      ],
      "editor/title": [
        {
          "command": "marimo.openAsMarimoNotebook",
          "when": "resourceLangId == python && !notebookType && marimo.isPythonFileMarimoNotebook",
          "group": "navigation"
        }
      ]
    }
  },
  "scripts": {
    "prepare": "turbo patch-tsc",
    "patch-tsc": "effect-language-service patch",
    "build": "turbo build:renderer && turbo build:extension",
    "build:extension": "esbuild --format=cjs --define:import.meta.env.DEV=false --platform=node --minify --external:vscode --bundle --sourcemap src/extension.ts --outdir=dist",
    "build:renderer": "vite build",
    "fix": "biome check --write",
    "typecheck-ci": "tsgo && tsc",
    "typecheck": "tsgo",
    "test": "vitest",
    "test:extension": "vscode-test",
    "embed-sdist": "uv build --directory=.. --out-dir=extension/dist --sdist && cd dist/ && tar xzf marimo_lsp-*.tar.gz && rm marimo_lsp-*.tar.gz",
    "lint": "biome ci && node ./scripts/check-css-variables.mjs"
  },
  "devDependencies": {
    "@biomejs/biome": "^2.2.6",
    "@effect/language-service": "^0.45.0",
    "@effect/platform": "^0.92.1",
    "@effect/platform-node": "^0.98.3",
    "@effect/vitest": "^0.26.0",
    "@marimo-team/frontend": "link:../../marimo/frontend",
    "@marimo-team/openapi": "link:../../marimo/packages/openapi",
    "@marimo-team/smart-cells": "link:../../marimo/packages/smart-cells",
    "@std/semver": "jsr:^1.0.6",
    "@tailwindcss/vite": "^4.1.14",
    "@types/mocha": "^10.0.10",
    "@types/node": "^24.7.2",
    "@types/react": "^19.2.2",
    "@types/react-dom": "^19.2.2",
    "@types/vscode": "^1.86.0",
    "@types/vscode-notebook-renderer": "^1.72.4",
    "@typescript/native-preview": "7.0.0-dev.20251015.1",
    "@vscode/python-extension": "^1.0.6",
    "@vscode/test-cli": "^0.0.12",
    "@vscode/test-electron": "^2.5.2",
    "effect": "^3.18.4",
    "esbuild": "^0.25.11",
    "jest-mock-vscode": "^4.7.0",
    "mocha": "^11.7.4",
    "posthog-node": "^5.10.3",
    "react": "^19.2.0",
    "react-dom": "^19.2.0",
    "turbo": "^2.5.8",
    "typescript": "^5.9.3",
    "vite": "npm:rolldown-vite@7.2.2",
    "vitest": "^3.2.4",
    "vscode-jsonrpc": "^8.2.1",
    "vscode-languageclient": "^9.0.1"
  },
  "packageManager": "pnpm@10.9.0"
}
